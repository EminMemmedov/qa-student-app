import{t as e}from"./arrow-left-CEuzoGoc.js";import{n as t,t as n}from"./loader-circle-Bbh2fwzJ.js";import{a as r,c as i,d as a,f as o,i as s,l as c,n as l,o as ee,r as te,s as u,t as d}from"./practiceSpecs-38QTgaUO.js";import"./sparkles-Dqv2FD2G.js";import"./achievements-BHPXEYAx.js";import"./proxy-K3kZNlDc.js";import{_ as f,b as p,f as m,g as h,n as g,t as ne}from"./index-BW8FEYQy.js";import{t as re}from"./PageTransition-npdI8hIz.js";import{n as ie,t as ae}from"./useAchievements-C49npA7c.js";var oe=h(`circle-check`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`m9 12 2 2 4-4`,key:`dzmm74`}]]),se=h(`info`,[[`circle`,{cx:`12`,cy:`12`,r:`10`,key:`1mglay`}],[`path`,{d:`M12 16v-4`,key:`1dtifu`}],[`path`,{d:`M12 8h.01`,key:`e9boi3`}]]),ce=h(`minus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}]]),le=h(`package`,[[`path`,{d:`M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z`,key:`1a0edw`}],[`path`,{d:`M12 22V12`,key:`d0xqtd`}],[`polyline`,{points:`3.29 7 12 12 20.71 7`,key:`ousv84`}],[`path`,{d:`m7.5 4.27 9 5.15`,key:`1c824w`}]]),ue=h(`plus`,[[`path`,{d:`M5 12h14`,key:`1ays0h`}],[`path`,{d:`M12 5v14`,key:`s699le`}]]),_=h(`tag`,[[`path`,{d:`M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z`,key:`vktsd0`}],[`circle`,{cx:`7.5`,cy:`7.5`,r:`.5`,fill:`currentColor`,key:`kqv944`}]]),de=h(`trash-2`,[[`path`,{d:`M10 11v6`,key:`nco0om`}],[`path`,{d:`M14 11v6`,key:`outv1u`}],[`path`,{d:`M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6`,key:`miytrc`}],[`path`,{d:`M3 6h18`,key:`d0wm0j`}],[`path`,{d:`M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2`,key:`e791ji`}]]),v=p(),y=m();function b(){let{foundBugs:p,addBug:m,resetProgress:h,getBugDifficulty:b,xp:fe,getBugPoints:x,deductXP:S}=ie(),{newAchievement:C,checkAchievements:w}=ae(),{showAnimation:pe,animationData:T,triggerBugAnimation:E}=te(),{addLog:D,addRequest:O}=ne(),[k,A]=(0,v.useState)(1),[j,M]=(0,v.useState)(``),[N,P]=(0,v.useState)(null),[F,me]=(0,v.useState)(5),[I,L]=(0,v.useState)({show:!1,message:``}),[R,z]=(0,v.useState)(!1),[B,V]=(0,v.useState)(!1),[H,he]=(0,v.useState)({}),[ge,_e]=(0,v.useState)({}),[U]=(0,v.useState)([{id:`neg_qty`,description:`MÉ™hsul sayÄ± mÉ™nfi ola bilir (-1)`,severity:`Critical`,priority:`High`},{id:`zero_qty`,description:`MÉ™hsul sayÄ± 0 ola bilir`,severity:`Major`,priority:`Medium`},{id:`float_qty`,description:`MÉ™hsul sayÄ± kÉ™sr ola bilir (1.5)`,severity:`Major`,priority:`Medium`},{id:`price_calc`,description:`Endirim hesablanarkÉ™n qiymÉ™t artÄ±r`,severity:`Critical`,priority:`High`},{id:`img_broken`,description:`MÉ™hsul ÅŸÉ™kli yÃ¼klÉ™nmÉ™yib`,severity:`Minor`,priority:`Low`},{id:`del_btn`,description:`SilmÉ™ dÃ¼ymÉ™si iÅŸlÉ™mir`,severity:`Major`,priority:`Medium`},{id:`stock_limit`,description:`Stokda olandan Ã§ox mÉ™hsul seÃ§mÉ™k olur`,severity:`Major`,priority:`Medium`},{id:`product_typo`,description:`MÉ™hsul adÄ±nda sÉ™hv: "iPhone" É™vÉ™zinÉ™ "iPone"`,severity:`Minor`,priority:`Low`},{id:`currency_symbol`,description:`Valyuta simvolu yanlÄ±ÅŸdÄ±r ($ É™vÉ™zinÉ™ â‚¼)`,severity:`Minor`,priority:`Low`},{id:`coupon_100`,description:`Kupon kodu "FREE100" 100% endirim verir`,severity:`Minor`,priority:`Low`},{id:`no_size`,description:`Ã–lÃ§Ã¼ seÃ§imi yoxdur`,severity:`Minor`,priority:`Low`},{id:`no_color`,description:`RÉ™ng seÃ§imi yoxdur`,severity:`Minor`,priority:`Low`},{id:`img_no_alt`,description:`ÅžÉ™kildÉ™ alt atributu yoxdur (accessibility)`,severity:`Minor`,priority:`Low`},{id:`price_alignment`,description:`QiymÉ™t saÄŸa deyil, sola yÃ¶nÉ™lib`,severity:`Minor`,priority:`Low`},{id:`btn_typo`,description:`DÃ¼ymÉ™dÉ™ sÉ™hv: "rÉ™smilÉ™ÅŸdir" É™vÉ™zinÉ™ "rÉ™smilÉ™ÅŸdÄ±r"`,severity:`Minor`,priority:`Low`},{id:`total_font`,description:`Yekun mÉ™blÉ™ÄŸ ÅŸrifti Ã§ox kiÃ§ikdir`,severity:`Minor`,priority:`Low`},{id:`qty_btn_size`,description:`Miqdar dÃ¼ymÉ™lÉ™ri fÉ™rqli Ã¶lÃ§Ã¼dÉ™dir`,severity:`Minor`,priority:`Low`},{id:`discount_color`,description:`Endirim mÉ™nfi olduÄŸu halda yaÅŸÄ±l rÉ™ngdÉ™dir`,severity:`Minor`,priority:`Low`},{id:`checkout_disabled`,description:`Checkout dÃ¼ymÉ™si heÃ§ vaxt disabled olmur`,severity:`Major`,priority:`Medium`},{id:`stock_info`,description:`Stok mÉ™lumatÄ± gÃ¶stÉ™rilmir`,severity:`Major`,priority:`Medium`}]),[ve,W]=(0,v.useState)(!1),[G,K]=(0,v.useState)(null),q=e=>{p.includes(e)||(K(e),W(!0))},J=e=>{let t=m(e);if(t.isNew){let n=U.find(t=>t.id===e);L({show:!0,message:n.description}),E({...t,bugName:n.description}),w({foundBugs:[...p,e],totalBugs:U.length,moduleBugs:{ecommerce:U},getBugDifficulty:b})}},ye=({severity:e,priority:t})=>{let n=U.find(e=>e.id===G),r=0;e===n.severity&&(r+=5),t===n.priority&&(r+=5);let i=x(b(G))+r;m(G),E({isNew:!0,points:i,bugName:n.description}),W(!1),K(null),r>0&&L({show:!0,message:`Æla! DÃ¼zgÃ¼n qiymÉ™tlÉ™ndirmÉ™ Ã¼Ã§Ã¼n +${r} XP bonus! ðŸŽ¯`}),w({foundBugs:[...p,G],totalBugs:U.length,moduleBugs:{ecommerce:U},getBugDifficulty:b})},be=()=>{let e={},t=[];return k<0&&(t.push(`neg_qty`),e.quantity=`MÉ™hsul sayÄ± mÉ™nfi ola bilmÉ™z`),k===0&&(t.push(`zero_qty`),e.quantity=`MÉ™hsul sayÄ± 0 ola bilmÉ™z`),k%1!=0&&(t.push(`float_qty`),e.quantity=`MÉ™hsul sayÄ± tam É™dÉ™d olmalÄ±dÄ±r`),k>F&&(t.push(`stock_limit`),e.quantity=`Stokda yalnÄ±z ${F} É™dÉ™d var`),t.push(`btn_typo`),t.push(`checkout_disabled`),he(e),{isValid:Object.keys(e).length===0,detectedBugs:t}},xe=()=>{let e=k-1;A(e),e===0&&J(`zero_qty`),e<0&&J(`neg_qty`)},Se=()=>{let e=k+1;A(e),e>F&&J(`stock_limit`)},Ce=e=>{let t=parseFloat(e.target.value);A(t),t%1!=0&&J(`float_qty`)},we=()=>{J(`del_btn`)},Te=()=>{D(`info`,`Attempting to apply coupon: ${j}`),j.toUpperCase()===`FREE100`?(J(`coupon_100`),P({code:`FREE100`,discount:100}),D(`success`,`Coupon applied successfully`,{code:`FREE100`,discount:100})):j&&(L({show:!0,message:`YanlÄ±ÅŸ kupon kodu`}),D(`warn`,`Invalid coupon code`,{code:j}))},Ee=async()=>{let{isValid:e,detectedBugs:t}=be(),n=!1;if(t.forEach(e=>{J(e),p.includes(e)||(n=!0)}),!e){let e=Object.values(H)[0];n||L({show:!0,message:e}),D(`warn`,`Checkout validation failed`,H);return}V(!0),D(`info`,`Starting checkout process...`,{items:k,total:Z}),await new Promise(e=>setTimeout(e,1500)),V(!1),O(`POST`,`https://api.shop.com/v1/checkout`,200,1500,{success:!0,orderId:`ORD-998877`}),D(`info`,`Checkout completed successfully`),F===F&&J(`stock_info`),L({show:!0,message:`SifariÅŸ qÉ™bul edildi! âœ…`})},Y=2999,X=N?N.discount/100*Y*k:-50,Z=Y*k+X,Q=U,$=p.filter(e=>Q.find(t=>t.id===e));return(0,v.useEffect)(()=>{$.length===Q.length&&Q.length>0&&s()},[$.length,Q.length]),(0,y.jsxs)(re,{className:`p-6 pt-12 pb-24 min-h-screen`,children:[(0,y.jsx)(c,{show:I.show,message:I.message,onClose:()=>L({show:!1,message:``})}),(0,y.jsx)(u,{isOpen:R,onClose:()=>z(!1),spec:d.ecommerce}),(0,y.jsx)(g,{children:pe&&T&&(0,y.jsx)(ee,{bugName:T.bugName,points:T.points,onComplete:()=>{}})}),C&&(0,y.jsx)(r,{achievement:C,onClose:()=>{}}),(0,y.jsxs)(`header`,{className:`mb-8`,children:[(0,y.jsxs)(f,{to:`/practice`,className:`inline-flex items-center text-slate-500 mb-4 hover:text-slate-800 transition-colors`,children:[(0,y.jsx)(e,{size:20,className:`mr-1`}),`Geri qayÄ±t`]}),(0,y.jsxs)(`div`,{className:`flex justify-between items-start`,children:[(0,y.jsxs)(`div`,{children:[(0,y.jsx)(`h1`,{className:`text-3xl font-black text-slate-900 tracking-tight mb-2`,children:`SÉ™bÉ™t`}),(0,y.jsxs)(`div`,{className:`flex items-center gap-2 text-slate-500 font-medium`,children:[(0,y.jsx)(a,{size:18}),(0,y.jsxs)(`p`,{children:[`Bu sÉ™hifÉ™dÉ™ `,U.length,` baq gizlÉ™nib.`]})]})]}),(0,y.jsx)(`button`,{onClick:()=>z(!0),className:`p-3 bg-indigo-100 text-indigo-600 rounded-xl hover:bg-indigo-200 transition-colors`,children:(0,y.jsx)(o,{size:24})})]})]}),(0,y.jsxs)(`div`,{className:`bg-white p-6 rounded-[2rem] shadow-xl shadow-orange-200/50 border border-slate-100 relative overflow-hidden mb-8`,children:[(0,y.jsx)(`div`,{className:`absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-orange-500 to-red-500`}),(0,y.jsxs)(`div`,{className:`flex gap-4 mb-6`,children:[(0,y.jsx)(`div`,{className:`w-24 h-24 bg-slate-100 rounded-xl flex items-center justify-center cursor-pointer`,onClick:()=>{q(`img_broken`),q(`img_no_alt`)},children:(0,y.jsx)(`span`,{className:`text-xs text-slate-400`,children:`Image Error`})}),(0,y.jsxs)(`div`,{className:`flex-1`,children:[(0,y.jsx)(`h3`,{className:`font-bold text-slate-900 cursor-pointer`,onClick:()=>q(`product_typo`),children:`iPone 15 Pro Max`}),(0,y.jsx)(`p`,{className:`text-slate-500 text-sm mb-2`,children:`Titanium Blue, 256GB`}),(0,y.jsxs)(`div`,{className:`flex gap-2 mb-2`,children:[(0,y.jsx)(`span`,{className:`text-xs text-slate-400 cursor-pointer hover:text-red-500`,onClick:()=>q(`no_size`),children:`Ã–lÃ§Ã¼: ?`}),(0,y.jsx)(`span`,{className:`text-xs text-slate-400 cursor-pointer hover:text-red-500`,onClick:()=>q(`no_color`),children:`RÉ™ng: ?`})]}),(0,y.jsxs)(`div`,{className:`flex items-center gap-2 cursor-pointer`,onClick:()=>q(`price_alignment`),children:[(0,y.jsxs)(`span`,{className:`font-bold text-lg cursor-pointer`,onClick:e=>{e.stopPropagation(),q(`currency_symbol`)},children:[`$`,Y]}),(0,y.jsxs)(`span`,{className:`text-sm text-red-500 line-through cursor-pointer`,onClick:e=>{e.stopPropagation(),q(`price_calc`)},children:[`$`,Y-500]})]})]})]}),(0,y.jsxs)(`div`,{className:`flex items-center justify-between bg-slate-50 p-4 rounded-xl mb-6`,children:[(0,y.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,y.jsx)(`button`,{onClick:()=>{xe(),q(`qty_btn_size`)},className:`w-10 h-8 bg-white rounded-full shadow-sm flex items-center justify-center text-slate-600 hover:bg-slate-100 transition-colors`,children:(0,y.jsx)(ce,{size:16})}),(0,y.jsx)(`input`,{type:`number`,step:`0.1`,value:k,onChange:Ce,className:`font-bold w-16 text-center border-2 rounded-lg p-1 outline-none transition-colors ${H.quantity?`border-red-300`:`border-slate-200`}`}),(0,y.jsx)(`button`,{onClick:Se,className:`w-8 h-8 bg-white rounded-full shadow-sm flex items-center justify-center text-slate-600 hover:bg-slate-100 transition-colors`,children:(0,y.jsx)(ue,{size:16})})]}),(0,y.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,y.jsxs)(`div`,{className:`flex items-center gap-2 cursor-pointer opacity-50`,onClick:()=>q(`stock_info`),children:[(0,y.jsx)(le,{size:16,className:`text-slate-400`}),(0,y.jsx)(`span`,{className:`text-xs text-slate-400`,children:`Stok: ?`})]}),(0,y.jsx)(`button`,{className:`text-slate-400 hover:text-red-500 transition-colors`,onClick:we,children:(0,y.jsx)(de,{size:20})})]})]}),H.quantity&&(0,y.jsxs)(`div`,{className:`flex items-center gap-2 mb-4 text-red-600 text-sm bg-red-50 p-3 rounded-xl`,children:[(0,y.jsx)(t,{size:16}),(0,y.jsx)(`span`,{children:H.quantity})]}),(0,y.jsxs)(`div`,{className:`mb-6`,children:[(0,y.jsxs)(`label`,{className:`block text-sm font-bold text-slate-700 mb-2 flex items-center gap-2`,children:[(0,y.jsx)(_,{size:16}),`Kupon Kodu`]}),(0,y.jsxs)(`div`,{className:`flex flex-col sm:flex-row gap-2 items-start sm:items-center`,children:[(0,y.jsx)(`input`,{type:`text`,placeholder:`Kupon kodu`,className:`flex-1 w-full p-3 border-2 border-slate-200 rounded-xl outline-none focus:border-orange-500 transition-colors`,value:j,onChange:e=>M(e.target.value)}),(0,y.jsxs)(`div`,{className:`relative group`,children:[(0,y.jsx)(se,{size:16,className:`text-slate-400 cursor-pointer`}),(0,y.jsx)(`div`,{className:`absolute left-0 mt-1 w-48 p-2 bg-gray-800 text-white text-xs rounded shadow-lg opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none`,children:`Kupon kodunu daxil edin (mÉ™sÉ™lÉ™n FREE100)`})]}),(0,y.jsx)(`button`,{onClick:Te,className:`w-full sm:w-auto px-4 py-2 bg-orange-100 text-orange-600 rounded-xl font-bold hover:bg-orange-200 transition-colors mt-2 sm:mt-0`,children:`TÉ™tbiq et`})]}),N&&(0,y.jsxs)(`div`,{className:`flex items-center gap-2 mt-2 text-green-600 text-sm`,children:[(0,y.jsx)(oe,{size:16}),(0,y.jsxs)(`span`,{children:[`Kupon tÉ™tbiq edildi: `,N.discount,`% endirim`]})]})]}),(0,y.jsxs)(`div`,{className:`border-t border-slate-100 pt-4 space-y-2`,children:[(0,y.jsxs)(`div`,{className:`flex justify-between text-slate-600`,children:[(0,y.jsxs)(`span`,{children:[`MÉ™hsullar (`,k,`)`]}),(0,y.jsxs)(`span`,{children:[`$`,Y*k]})]}),(0,y.jsxs)(`div`,{className:`flex justify-between text-green-600 font-medium cursor-pointer`,onClick:()=>q(`discount_color`),children:[(0,y.jsx)(`span`,{children:`Endirim`}),(0,y.jsxs)(`span`,{children:[X>0?`-`:`+`,`$`,Math.abs(X)]})]}),(0,y.jsxs)(`div`,{className:`flex justify-between font-black text-xl text-slate-900 pt-2 cursor-pointer`,onClick:()=>q(`total_font`),children:[(0,y.jsx)(`span`,{className:`text-xs`,children:`CÉ™mi`}),(0,y.jsxs)(`span`,{className:`text-xs`,children:[`$`,Z]})]})]}),(0,y.jsx)(`button`,{onClick:Ee,disabled:B,className:`w-full mt-6 py-4 bg-orange-500 text-white rounded-xl font-bold shadow-lg shadow-orange-200 hover:bg-orange-600 transition-colors cursor-pointer disabled:opacity-50 flex items-center justify-center gap-2`,children:B?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n,{className:`animate-spin`,size:20}),(0,y.jsx)(`span`,{children:`Emal edilir...`})]}):`SifariÅŸi rÉ™smilÉ™ÅŸdÄ±r`})]}),(0,y.jsx)(i,{bugs:U,foundBugs:p,onReset:h,xp:fe,getBugPoints:x,getBugDifficulty:b,deductXP:S}),(0,y.jsx)(l,{isOpen:ve,onClose:()=>W(!1),onSubmit:ye,bug:U.find(e=>e.id===G)})]})}export{b as default};