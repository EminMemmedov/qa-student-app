import{_ as e,v as t,w as n,y as r}from"./index-CpAWqZKz.js";var i=n();function a(){let[n,a]=(0,i.useState)(()=>{let t=e(`qa_game_progress`,[]);return Array.isArray(t)?t:[]}),[o,s]=(0,i.useState)(()=>{let t=e(`qa_game_xp`,0),n=typeof t==`number`?t:parseInt(t,10);return isNaN(n)?0:Math.max(0,n)}),c={btn_typo:2,product_typo:2,name_label:2,amount_label:2,placeholder_typo:2,img_broken:3,card_icon:3,border_color:3,form_spacing:3,price_alignment:3,total_font:3,qty_btn_size:3,btn_alignment:3,card_len:5,card_char:5,card_special:5,name_numbers:5,name_short:5,cvv_len:5,cvv_letters:5,expiry_past:6,expiry_current:6,neg_amount:6,zero_amount:6,neg_qty:6,zero_qty:6,float_qty:6,decimal_places:7,stock_limit:7,balance_limit:7,currency_mix:7,price_calc:7,total_wrong:7,cvv_visible:10,self_transfer:10,del_btn:10,no_confirmation:12,balance_static:12,loading_state:12,success_msg:12,btn_double:15,desc_xss:15,coupon_100:15,card_format:10,luhn_invalid:15,address_xss:15,checkout_disabled:10,stock_info:10,history_missing:10,balance_color:5,icon_missing:5,focus_color:5,border_inconsistent:5,discount_color:5,img_no_alt:7,no_size:7,no_color:7,currency_symbol:5};(0,i.useEffect)(()=>{r(`qa_game_progress`,n)},[n]),(0,i.useEffect)(()=>{r(`qa_game_xp`,o)},[o]);let l=(e,t=1)=>{if(!n.includes(e)){a(t=>[...t,e]);let n=c[e]||5,r=f(e),i=Math.round(n*t);return s(e=>e+i),{isNew:!0,points:i,basePoints:n,difficulty:r}}return{isNew:!1}},u=()=>{a([]),s(0),t(`qa_game_progress`),t(`qa_game_xp`)},d=e=>c[e]||5,f=e=>{let t=c[e]||5;return t<=3?`easy`:t<=9?`medium`:`hard`};return{foundBugs:n,addBug:l,xp:o,resetProgress:u,getBugPoints:d,getBugDifficulty:f,deductXP:e=>o>=e?(s(t=>t-e),!0):!1,addXP:e=>{s(t=>t+e)}}}export{a as t};