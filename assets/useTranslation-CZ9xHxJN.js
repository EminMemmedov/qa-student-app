import{M as e,b as t,j as n,x as r}from"./index-L6i9Tykn.js";const i=(e,t,n,r)=>{let i=[n,{code:t,...r||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(i,`warn`,`react-i18next::`,!0);d(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...i):console?.warn&&console.warn(...i)};var a={};const o=(e,t,n,r)=>{d(n)&&a[n]||(d(n)&&(a[n]=new Date),i(e,t,n,r))};var s=(e,t)=>()=>{if(e.isInitialized)t();else{let n=()=>{setTimeout(()=>{e.off(`initialized`,n)},0),t()};e.on(`initialized`,n)}};const c=(e,t,n)=>{e.loadNamespaces(t,s(e,n))},l=(e,t,n,r)=>{if(d(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return c(e,n,r);n.forEach(t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)}),e.loadLanguages(t,s(e,r))},u=(e,t,n={})=>!t.languages||!t.languages.length?(o(t,`NO_LANGUAGES`,`i18n.languages were undefined or empty`,{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,r)=>{if(n.bindI18n&&n.bindI18n.indexOf(`languageChanging`)>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}),d=e=>typeof e==`string`,f=e=>typeof e==`object`&&!!e;var p=n();const m=(0,p.createContext)();var h=class{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}},g=e((e=>{var t=n();function r(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var i=typeof Object.is==`function`?Object.is:r,a=t.useState,o=t.useEffect,s=t.useLayoutEffect,c=t.useDebugValue;function l(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s(function(){i.value=n,i.getSnapshot=t,u(i)&&l({inst:i})},[e,n,t]),o(function(){return u(i)&&l({inst:i}),e(function(){u(i)&&l({inst:i})})},[e]),c(n),n}function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch{return!0}}function d(e,t){return t()}var f=typeof window>`u`||window.document===void 0||window.document.createElement===void 0?d:l;e.useSyncExternalStore=t.useSyncExternalStore===void 0?f:t.useSyncExternalStore})),_=e(((e,t)=>{t.exports=g()}))(),v={t:(e,t)=>d(t)?t:f(t)&&d(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,ready:!1},y=()=>()=>{};const b=(e,n={})=>{let{i18n:i}=n,{i18n:a,defaultNS:s}=(0,p.useContext)(m)||{},f=i||a||t();f&&!f.reportNamespaces&&(f.reportNamespaces=new h),f||o(f,`NO_I18NEXT_INSTANCE`,`useTranslation: You will need to pass in an i18next instance by using initReactI18next`);let g=(0,p.useMemo)(()=>({...r(),...f?.options?.react,...n}),[f,n]),{useSuspense:b,keyPrefix:x}=g,S=e||s||f?.options?.defaultNS,C=d(S)?[S]:S||[`translation`],w=(0,p.useMemo)(()=>C,C);f?.reportNamespaces?.addUsedNamespaces?.(w);let T=(0,p.useRef)(0),E=(0,p.useCallback)(e=>{if(!f)return y;let{bindI18n:t,bindI18nStore:n}=g,r=()=>{T.current+=1,e()};return t&&f.on(t,r),n&&f.store.on(n,r),()=>{t&&t.split(` `).forEach(e=>f.off(e,r)),n&&n.split(` `).forEach(e=>f.store.off(e,r))}},[f,g]),D=(0,p.useRef)(),O=(0,p.useCallback)(()=>{if(!f)return v;let e=!!(f.isInitialized||f.initializedStoreOnce)&&w.every(e=>u(e,f,g)),t=n.lng||f.language,r=T.current,i=D.current;if(i&&i.ready===e&&i.lng===t&&i.keyPrefix===x&&i.revision===r)return i;let a={t:f.getFixedT(t,g.nsMode===`fallback`?w:w[0],x),ready:e,lng:t,keyPrefix:x,revision:r};return D.current=a,a},[f,w,x,g,n.lng]),[k,A]=(0,p.useState)(0),{t:j,ready:M}=(0,_.useSyncExternalStore)(E,O,O);(0,p.useEffect)(()=>{if(f&&!M&&!b){let e=()=>A(e=>e+1);n.lng?l(f,n.lng,w,e):c(f,w,e)}},[f,n.lng,w,M,b,k]);let N=f||{},P=(0,p.useRef)(null),F=(0,p.useRef)(),I=e=>{let t=Object.getOwnPropertyDescriptors(e);t.__original&&delete t.__original;let n=Object.create(Object.getPrototypeOf(e),t);if(!Object.prototype.hasOwnProperty.call(n,`__original`))try{Object.defineProperty(n,`__original`,{value:e,writable:!1,enumerable:!1,configurable:!1})}catch{}return n},L=(0,p.useMemo)(()=>{let e=N,t=e?.language,n=e;e&&(P.current&&P.current.__original===e&&F.current===t?n=P.current:(n=I(e),P.current=n,F.current=t));let r=[j,n,M];return r.t=j,r.i18n=n,r.ready=M,r},[j,N,M,N.resolvedLanguage,N.language,N.languages]);if(f&&b&&!M)throw new Promise(e=>{let t=()=>e();n.lng?l(f,n.lng,w,t):c(f,w,t)});return L};export{b as t};