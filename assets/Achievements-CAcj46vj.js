import{t as e}from"./useTranslation-BorRrBYq.js";import{t}from"./circle-check-big-DeljryxS.js";import{t as n}from"./lock-gSFCTHu0.js";import{a as r,g as i,l as a,n as o,r as s,w as c}from"./index-BmsDXusB.js";import{t as l}from"./useGameProgress-B4aRAw4f.js";import{t as u}from"./confetti.module-DC3TM9F_.js";var d=c(),f=i();function p(){let{t:i}=e(),{unlockedAchievements:c}=o(),{xp:p}=l();(0,d.useEffect)(()=>{c.length>0&&u({particleCount:50,spread:60,origin:{y:.7}})},[]);let m=e=>{let t=[],n=[];try{t=JSON.parse(localStorage.getItem(`qa_database_completed`)||`[]`)}catch(e){console.error(`Error parsing db levels:`,e)}try{n=JSON.parse(localStorage.getItem(`qa_automation_completed`)||`[]`)}catch(e){console.error(`Error parsing auto levels:`,e)}if(!e.requirement)return 0;switch(e.requirement.type){case`practice_level`:return(e.requirement.module===`database`?t:n).includes(e.requirement.level)?1:0;case`practice_complete`:let r=e.requirement.module===`database`?t:n;return Math.min(r.length/5,1);case`xp_earned`:return Math.min(p/e.requirement.amount,1);case`both_practice_complete`:let i=t.length/5,a=n.length/5;return Math.min((i+a)/2,1);default:return 0}};return(0,f.jsx)(`div`,{className:`p-4 sm:p-8 min-h-screen bg-slate-50 dark:bg-slate-900`,children:(0,f.jsxs)(`div`,{className:`max-w-5xl mx-auto`,children:[(0,f.jsx)(`div`,{className:`flex flex-col md:flex-row items-start md:items-center justify-between gap-6 mb-8`,children:(0,f.jsxs)(`div`,{className:`flex items-center gap-4`,children:[(0,f.jsx)(`div`,{className:`w-14 h-14 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-2xl flex items-center justify-center shadow-lg shadow-orange-500/20 transform -rotate-3`,children:(0,f.jsx)(a,{className:`text-white`,size:28})}),(0,f.jsxs)(`div`,{children:[(0,f.jsx)(`h1`,{className:`text-3xl font-black text-slate-900 dark:text-white tracking-tight`,children:i(`achievements.title`)}),(0,f.jsxs)(`p`,{className:`text-slate-500 dark:text-slate-400 font-medium text-base`,children:[c.length,` / `,s.length,` `,i(`achievements.unlocked`).toLowerCase()]})]})]})}),(0,f.jsx)(`div`,{className:`grid grid-cols-1 md:grid-cols-2 gap-5`,children:s.map(e=>{let a=c.includes(e.id),o=m(e);return(0,f.jsx)(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{y:-4},className:`relative overflow-hidden rounded-[2rem] p-1 transition-all duration-300 ${a?`bg-gradient-to-br from-yellow-300 via-orange-300 to-yellow-300 shadow-xl shadow-orange-500/10`:`bg-slate-200 dark:bg-slate-700`}`,children:(0,f.jsxs)(`div`,{className:`h-full rounded-[1.8rem] p-6 flex flex-col relative z-10 ${a?`bg-white dark:bg-slate-900`:`bg-slate-50 dark:bg-slate-800 opacity-95`}`,children:[(0,f.jsxs)(`div`,{className:`flex justify-between items-start mb-4 sm:mb-5 gap-4`,children:[(0,f.jsx)(`div`,{className:`w-14 h-14 sm:w-16 sm:h-16 rounded-2xl flex items-center justify-center text-3xl sm:text-4xl shadow-sm flex-shrink-0 ${a?`bg-orange-50 dark:bg-orange-900/20 text-orange-500`:`bg-slate-200 dark:bg-slate-700 text-slate-400 grayscale`}`,children:e.icon}),(0,f.jsxs)(`div`,{className:`px-3 py-1.5 rounded-lg text-xs font-bold border shadow-sm whitespace-nowrap ${a?`bg-yellow-50 dark:bg-yellow-900/20 text-yellow-700 dark:text-yellow-400 border-yellow-200 dark:border-yellow-800`:`bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border-slate-300 dark:border-slate-600`}`,children:[`+`,e.reward,` XP`]})]}),(0,f.jsxs)(`div`,{className:`mb-4 sm:mb-6 flex-grow`,children:[(0,f.jsx)(`h3`,{className:`text-lg sm:text-xl font-black mb-2 leading-tight break-words hyphens-auto ${a?`text-slate-900 dark:text-white`:`text-slate-500 dark:text-slate-400`}`,children:e.title}),(0,f.jsx)(`p`,{className:`text-base sm:text-sm font-medium leading-relaxed break-words ${a?`text-slate-600 dark:text-slate-400`:`text-slate-400 dark:text-slate-500`}`,children:e.description})]}),(0,f.jsx)(`div`,{className:`mt-auto pt-4 sm:pt-5 border-t border-slate-100 dark:border-slate-800`,children:!a&&o>0?(0,f.jsxs)(`div`,{className:`space-y-2`,children:[(0,f.jsxs)(`div`,{className:`flex justify-between text-xs sm:text-xs font-bold text-slate-500`,children:[(0,f.jsx)(`span`,{children:`Proqress`}),(0,f.jsxs)(`span`,{children:[Math.round(o*100),`%`]})]}),(0,f.jsx)(`div`,{className:`h-2 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden`,children:(0,f.jsx)(r.div,{initial:{width:0},animate:{width:`${o*100}%`},className:`h-full bg-gradient-to-r from-yellow-400 to-orange-500`})})]}):(0,f.jsx)(`div`,{className:`flex items-center gap-2 text-xs sm:text-sm font-bold ${a?`text-green-600 dark:text-green-400`:`text-slate-400 dark:text-slate-500`}`,children:a?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(t,{size:16}),(0,f.jsx)(`span`,{children:i(`achievements.unlocked`)})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(n,{size:16}),(0,f.jsx)(`span`,{children:i(`achievements.locked`)})]})})})]})},e.id)})})]})})}export{p as default};